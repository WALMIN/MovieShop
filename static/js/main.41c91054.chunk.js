(this["webpackJsonpmovie-shop"]=this["webpackJsonpmovie-shop"]||[]).push([[0],{112:function(e,t,s){},162:function(e,t,s){},163:function(e,t,s){},462:function(e,t,s){},463:function(e,t,s){},464:function(e,t,s){},465:function(e,t,s){},466:function(e,t,s){},467:function(e,t,s){},468:function(e,t,s){},469:function(e,t,s){},474:function(e,t,s){"use strict";s.r(t);var a,c=s(3),n=s.n(c),i=s(60),r=s.n(i),o=(s(162),s(163),s(26)),l=s.n(o),j=s(41),u=s(8),b=s(11),d=s(18),m=s(15),h=s(12),O=Object(h.b)("is fetching GENRES"),p=Object(h.b)("is fetching MOVIES by GENRE"),v=Object(h.b)("success genres"),x=Object(h.b)("success all movies"),f=Object(h.b)("succsess"),g=Object(h.b)("faliure"),y=Object(h.b)("genres done fetched"),N=Object(h.b)("subMovies done fetched"),S=Object(h.b)("resetting Lists"),C=Object(h.b)("fetcher statuses succsess"),M={isFetching:O,isFetchingMovieByGenre:p,succsess:f,successAllGenres:v,successAllMovies:x,faliure:g,listGenreFetched:y,listMoviesFetched:N,resetLists:S,pushPartFetch:C},I="normal",k="Is fetching Genres..",w="Is fetching Movies by Genres..",R="Success GENRES",P="Success MOVIES BY GENRE",T="succsess",_="faliure",F="api fetcher statuses success",L={status:I,arrayGenre:[],arrayMovieList:[]},B=Object(h.c)(L,(a={},Object(d.a)(a,O,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:k})})),Object(d.a)(a,v,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:R})})),Object(d.a)(a,p,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:w})})),Object(d.a)(a,x,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:P})})),Object(d.a)(a,f,(function(e,t){var s=t.payload;e.status=s})),Object(d.a)(a,g,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:_})})),Object(d.a)(a,C,(function(e,t){e.arrayMovieList.push(t.payload),e.status=F})),Object(d.a)(a,y,(function(e,t){var s=t.payload;e.arrayGenre=s,e.status=w})),Object(d.a)(a,N,(function(e,t){var s=t.payload;e.arrayMovieList.push(s)})),Object(d.a)(a,S,(function(e,t){e.arrayGenre=[],e.arrayMovieList=[]})),a)),E=(s(112),s.p+"static/media/movielogo.ce72d476.jpg"),D=(s(113),s(2)),q=function(e){var t=e.item,s=null;return null!=t.poster_path?(s="https://image.tmdb.org/t/p/w500/"+t.poster_path,Object(D.jsx)(n.a.Fragment,{children:Object(D.jsx)("img",{className:"poster-img",src:s,alt:"No image available"})})):Object(D.jsxs)(n.a.Fragment,{children:[Object(D.jsx)("img",{className:"poster-img",src:"".concat(E),alt:"No default image available"}),Object(D.jsx)("p",{className:"alt-img-title",children:t.original_title})]})},A=s(17);var G=function(){var e=Object(b.c)((function(e){return e.movieList.status})),t=(Object(b.c)((function(e){return e.movieList.arrayGenre})),Object(b.c)((function(e){return e.movieList.arrayMovieList}))),s=Object(b.b)(),a=Object(c.useState)(null),n=Object(u.a)(a,2);n[0],n[1];if(Object(c.useEffect)((function(){!function(e){e(M.isFetching());var t="3dbd54ecb77c41b970728ba04b569d4c",s="".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat(t);console.log("Fetching\u202fdata..."),fetch(s).then(function(){var t=Object(j.a)(l.a.mark((function t(s){var a,c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.json();case 2:if(a=t.sent,s.ok){t.next=6;break}return c=a&&a.message||s.statusText,t.abrupt("return",Promise.reject(c));case 6:n=JSON.stringify(a.genres),JSON.parse(n).forEach((function(t){var s="https://api.themoviedb.org/3/discover/movie?api_key=3dbd54ecb77c41b970728ba04b569d4c&language=en-US&sort_by=popularity.asc&include_adult=false&include_video=false&page=1&vote_count.gte=7&with_genres=".concat(t.id);fetch(s).then(function(){var s=Object(j.a)(l.a.mark((function s(a){var c,n,i,r;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.json();case 2:if(c=s.sent,a.ok){s.next=6;break}return n=c&&c.message||a.statusText,s.abrupt("return",Promise.reject(n));case 6:i=c.results,r={id:t.id,name:t.name,movies:i},e(M.listMoviesFetched(r)),e(M.successAllMovies());case 10:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){console.error("There\u202fwas\u202fan\u202ferror!",e)}))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error("There\u202fwas\u202fan\u202ferror!",e)}))}(s)}),[s]),e===I)return Object(D.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("Redo\u202ff\xf6r\u202fatt\u202fladda\u202ffakta!\u202fB\xf6rjar\u202fh\xe4mta\u202falla\u202fgenres!"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===k)return Object(D.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("H\xe4mtar\u202fnu\u202falla\u202fgenres"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===R)return Object(D.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("Nu\u202f\xe4r\u202farrayGenre\u202fklar"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===w)return Object(D.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("H\xe4mtar\u202fnu\u202falla\u202fMOVIES\u202fenligt\u202fGENRES...."),"\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===P){return Object(D.jsxs)("div",{className:"genre-movie-container",children:[console.log("Nu\u202f\xe4r\u202farrayMovieList\u202fklar"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",t.map((function(e){return Object(D.jsxs)("div",{className:"movie-row-container",children:[Object(D.jsx)("h1",{className:"genre-title",children:e.name}),Object(D.jsx)("div",{className:"content-row-genre-item-movie",children:e.movies.map((function(e){return Object(D.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),className:"contentrow-link-container",children:Object(D.jsx)(q,{item:e,className:"content-row-class"})})}))})]})})),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]})}return e===T?Object(D.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",Object(D.jsx)("p",{children:"Alla\u202fGENRES\u202foch\u202fMOVIES\u202fnu\u202fklara"}),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]}):e===_?null:void 0};s(462);var J,$=function(){return Object(D.jsxs)("div",{className:"NavigationBar",children:[Object(D.jsxs)(A.b,{className:"NaviationButton",to:"/",children:[Object(D.jsx)("img",{src:"/MovieShop/images/home.svg"}),"Home"]}),Object(D.jsxs)(A.b,{className:"NaviationButton",to:"/favourites",children:[Object(D.jsx)("img",{src:"/MovieShop/images/favourites.svg"}),"Favourites"]}),Object(D.jsxs)(A.b,{className:"NaviationButton",to:"/cart",children:[Object(D.jsx)("img",{src:"/MovieShop/images/cart.svg"}),"Cart"]})]})},V=(s(463),Object(h.b)("is fetching jumbotron")),U=Object(h.b)("jumbotron success"),H=Object(h.b)("jumbotron faliure"),z=Object(h.b)("jumbotron reset"),Q={isFetching:V,success:U,faliure:H,resetList:z},K="normal",Y="is fetching",W="success",Z="faliure",X={status:K,randomMovie:null},ee=Object(h.c)(X,(J={},Object(d.a)(J,V,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:Y})})),Object(d.a)(J,U,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:W,randomMovie:t.payload})})),Object(d.a)(J,H,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:Z})})),Object(d.a)(J,z,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:K})})),J)),te=s(14);function se(e){return Math.floor(Math.random()*e)}function ae(){return(ae=Object(j.a)(l.a.mark((function e(t){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Q.isFetching()),"https://api.themoviedb.org/3/discover/movie","3dbd54ecb77c41b970728ba04b569d4c",s="".concat("https://api.themoviedb.org/3/discover/movie","?api_key=").concat("3dbd54ecb77c41b970728ba04b569d4c"),console.log("Fetching\u202fdata..."),fetch(s).then(function(){var e=Object(j.a)(l.a.mark((function e(s){var a,c,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.json();case 2:if(a=e.sent,s.ok){e.next=6;break}return c=a&&a.message||s.statusText,e.abrupt("return",Promise.reject(c));case 6:n=a.results,i=se(n.length-1),t(Q.success(n[i]));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There\u202fwas\u202fan\u202ferror!",e)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce,ne=function(){var e=Object(b.c)((function(e){return e.jumboLoader.randomMovie})),t=Object(b.c)((function(e){return e.jumboLoader.status})),s=Object(b.b)(),a=Object(te.g)(),n=null;return t===K?n=null:t===Y||(n=t===W?e:null),Object(c.useEffect)((function(){!function(e){ae.apply(this,arguments)}(s)}),[]),null!==n?Object(D.jsxs)("div",{className:"jumbotron",style:{backgroundImage:"linear-gradient(rgba(15, 15, 15, 0.7), rgba(10, 10, 10, 0.96)), url(https://image.tmdb.org/t/p/w500/"+n.poster_path+")"},children:[console.log("randomMovie: ",n),Object(D.jsxs)("div",{className:"synopsis",children:[Object(D.jsx)("h1",{children:n.original_title}),Object(D.jsx)("br",{}),Object(D.jsx)("p",{children:n.overview}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{onClick:function(){a.push("/MovieInfo/".concat(n.id))},children:"More Info"})]})]}):null},ie=s(65),re=(s(464),Object(h.b)("updateSubtotal")),oe=Object(h.b)("updatePayment"),le={updateSubtotal:re,updatePayment:oe},je=Object(h.c)({subtotal:0,payment:[]},(ce={},Object(d.a)(ce,re,(function(e,t){return{subtotal:t.payload}})),Object(d.a)(ce,oe,(function(e,t){return{payment:t.payload}})),ce));var ue=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(0),i=Object(u.a)(n,2),r=i[0],o=i[1];Object(c.useEffect)((function(){var e=localStorage.getItem("cart");(e=JSON.parse(e))&&(a(e),o(0),e.map((function(e){return o((function(t){return t+e.quantity*e.price}))})))}),[]);var l=function(e,t){var c=Object(ie.a)(s),n=c.find((function(t){return t.id===e}));if(n){t?n.quantity+=1:n.quantity-=1,n.quantity<=0&&(c=c.filter((function(t){return t.id!==e}))),a(c);var i=JSON.stringify(c);localStorage.setItem("cart",i),o(0),c.map((function(e){return o((function(t){return t+e.quantity*e.price}))}))}},j=Object(b.b)();return Object(D.jsxs)("div",{className:"Cart",children:[Object(D.jsxs)("header",{className:"Cart-header",children:[Object(D.jsx)("h1",{children:"Cart"}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{className:"Price",children:["$",r.toFixed(2)]}),Object(D.jsx)(A.b,{className:"CheckoutButton",to:"/payment",onClick:function(){return function(e){j(le.updateSubtotal(e))}(r)},children:"Checkout"})]})]}),Object(D.jsx)("main",{children:s.length>0?s.map((function(e){return Object(D.jsx)("div",{className:"MovieItem",children:Object(D.jsxs)("div",{className:"MovieItemInfo",children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),children:"https://image.tmdb.org/t/p/w500null"!==e.img?Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:e.img,alt:e.title})}):Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:E,alt:e.title})})}),Object(D.jsxs)("div",{className:"MovieItemInnerInfo",children:[Object(D.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),className:"MovieTitle",children:e.title}),Object(D.jsxs)("div",{className:"Quantity",children:[Object(D.jsx)("img",{className:"QuantityAddButton",src:"/MovieShop/images/remove.svg",onClick:function(){return l(e.id,!1)},alt:"Remove"}),Object(D.jsx)("p",{className:"Quantity",children:e.quantity}),Object(D.jsx)("img",{className:"QuantityRemoveButton",src:"/MovieShop/images/add.svg",onClick:function(){return l(e.id,!0)},alt:"Add"}),Object(D.jsx)("img",{className:"RemoveButton",src:"/MovieShop/images/delete.svg",onClick:function(){return function(e){var t=Object(ie.a)(s);t=t.filter((function(t){return t.id!==e})),a(t);var c=JSON.stringify(t);localStorage.setItem("cart",c),o(0),t.map((function(e){return o((function(t){return t+e.quantity*e.price}))}))}(e.id)},alt:"Delete"})]})]})]}),Object(D.jsxs)("p",{className:"MoviePrice",children:["$",e.price.toFixed(2)]})]})},e.id)})):Object(D.jsxs)("div",{className:"Cart-empty",children:[Object(D.jsx)("img",{className:"CartImage",src:"/MovieShop/images/cart-empty.svg",alt:"Cart"}),Object(D.jsx)("p",{className:"CartTitle",children:"Oops! Your cart is empty!"}),Object(D.jsxs)("p",{className:"CartText",children:["Looks like you haven't added",Object(D.jsx)("br",{}),"anything to your cart yet"]}),Object(D.jsx)(A.b,{className:"CartButton",to:"/",children:"Continue shopping"})]})})]})};s(465);var be=function(){var e=Object(b.c)((function(e){return e.cart.payment})),t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,s=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,a=/^3[47][0-9]{13}$/,n=/^4[0-9]{12}(?:[0-9]{3})?$/,i=/^5[1-5][0-9]{14}$|^2(?:2(?:2[1-9]|[3-9][0-9])|[3-6][0-9][0-9]|7(?:[01][0-9]|20))[0-9]{12}$/,r=Object(c.useState)(""),o=Object(u.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(u.a)(d,2),h=m[0],O=m[1],p=Object(c.useState)(""),v=Object(u.a)(p,2),x=v[0],f=v[1],g=Object(c.useState)(""),y=Object(u.a)(g,2),N=y[0],S=y[1],C=Object(c.useState)(""),M=Object(u.a)(C,2),I=M[0],k=M[1],w=Object(c.useState)(""),R=Object(u.a)(w,2),P=R[0],T=R[1],_=Object(c.useState)(""),F=Object(u.a)(_,2),L=F[0],B=F[1],E=Object(c.useState)(""),q=Object(u.a)(E,2),G=q[0],J=q[1],$=Object(c.useState)(""),V=Object(u.a)($,2),U=V[0],H=V[1],z=Object(c.useState)(""),Q=Object(u.a)(z,2),K=Q[0],Y=Q[1],W=Object(c.useState)(""),Z=Object(u.a)(W,2),X=Z[0],ee=Z[1],se=Object(c.useState)(""),ae=Object(u.a)(se,2),ce=(ae[0],ae[1]),ne=Object(c.useState)(""),ie=Object(u.a)(ne,2),re=ie[0],oe=ie[1],je=Object(c.useState)(""),ue=Object(u.a)(je,2),be=ue[0],de=ue[1],me=Object(c.useState)(""),he=Object(u.a)(me,2),Oe=he[0],pe=he[1],ve=Object(b.c)((function(e){return e.cart.subtotal})),xe=Object(c.useState)(0),fe=Object(u.a)(xe,2),ge=fe[0],ye=fe[1],Ne=Object(c.useState)(""),Se=Object(u.a)(Ne,2),Ce=Se[0],Me=Se[1],Ie=Object(b.b)(),ke=function(e,t,s,a,c,n){return Ie(le.updatePayment([e,t,s,a,c,n])),Object(D.jsx)(te.a,{to:"/confirmation"})};return 0===ve||null===e?Object(D.jsx)(te.a,{to:"/cart"}):Object(D.jsxs)("div",{className:"Payment",children:[Object(D.jsx)("p",{className:"Title",children:"Billing details"}),Object(D.jsxs)("div",{className:"BillingDetails",children:[Object(D.jsx)("input",{type:"text",placeholder:"First name",autocomplete:"given-name",value:l,onChange:function(e){j(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Last name",autocomplete:"family-name",value:h,onChange:function(e){O(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Email",autocomplete:"email",value:x,onChange:function(e){f(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Phone",autocomplete:"tel",value:N,onChange:function(e){S(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Country",autocomplete:"country-name",value:I,onChange:function(e){k(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Street name and house number",autocomplete:"street-address",value:P,onChange:function(e){T(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"Apartment, suite, unit, etc. (optional)",value:L,onChange:function(e){B(e.target.value)}}),Object(D.jsx)("input",{type:"text",placeholder:"Postal code",value:G,onChange:function(e){J(e.target.value)},required:!0}),Object(D.jsx)("input",{type:"text",placeholder:"City",value:U,onChange:function(e){H(e.target.value)},required:!0})]}),Object(D.jsx)("p",{className:"Title",children:"Shipping"}),[["Postnord","postnord.webp","Delivery within 3-4 weekdays",3],["DHL","dhl.png","Delivery within 3-4 weekdays",3],["Instabox","instabox.png","Delivery within 1-2 days",4],["Budbee","budbee.png","Home delivery within 1-2 weekdays",5]].map((function(e){return Object(D.jsxs)("div",{className:"ShippingOption",children:[Object(D.jsxs)("div",{className:"ShippingTitle",children:[Object(D.jsx)("input",{type:"radio",name:"shipping",value:e[0],onClick:function(){ye(e[3]),Me(e[0])}}),Object(D.jsxs)("label",{for:e[0],children:[Object(D.jsx)("img",{src:"/MovieShop/images/shipping/"+e[1]}),Object(D.jsxs)("p",{children:["+$",e[3]]})]})]}),Object(D.jsx)("p",{className:"ShippingInfo",children:e[2]})]})})),Object(D.jsx)("p",{className:"Title",children:"Payment"}),Object(D.jsxs)("div",{className:"PaymentMethod",children:[Object(D.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:"radio",name:"payment",value:K,onClick:function(){return Y("Card")}})}),Object(D.jsxs)("div",{children:[Object(D.jsx)("img",{src:"/MovieShop/images/payment/visa.jpg"}),Object(D.jsx)("img",{src:"/MovieShop/images/payment/mastercard.png"}),Object(D.jsx)("img",{src:"/MovieShop/images/payment/american-express.jpg"})]})]}),"Card"===K?Object(D.jsxs)("div",{className:"PaymentMethodFields",children:[Object(D.jsx)("input",{type:"text",placeholder:"Card number",autocomplete:"cc-number",value:X,onChange:function(e){ee(e.target.value)},style:{"margin-bottom":"1vmin"},required:!0}),Object(D.jsx)("input",{type:"month",autocomplete:"cc-exp",onChange:function(e){ce(e.target.value)},style:{"margin-bottom":"1vmin"},required:!0}),Object(D.jsx)("input",{type:"number",placeholder:"CVC/CVV",min:"0",max:"9999",maxlength:"4",autocomplete:"cc-csc",value:re,onChange:function(e){oe(e.target.value)},required:!0})]}):null]}),Object(D.jsxs)("div",{className:"PaymentMethod",children:[Object(D.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:"radio",name:"payment",value:K,onClick:function(){return Y("PayPal")}})}),Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/MovieShop/images/payment/paypal.png"})})]}),"PayPal"===K?Object(D.jsx)("div",{className:"PaymentMethodFields",children:Object(D.jsx)("input",{type:"text",placeholder:"PayPal email",autocomplete:"email",value:Oe,onChange:function(e){pe(e.target.value)},required:!0})}):null]}),Object(D.jsxs)("div",{className:"PaymentMethod",children:[Object(D.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(D.jsx)("div",{children:Object(D.jsx)("input",{type:"radio",name:"payment",value:K,onClick:function(){return Y("Swish")}})}),Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/MovieShop/images/payment/swish.svg"})})]}),"Swish"===K?Object(D.jsx)("div",{className:"PaymentMethodFields",children:Object(D.jsx)("input",{type:"text",placeholder:"Swish number",autocomplete:"tel",value:be,onChange:function(e){de(e.target.value)},required:!0})}):null]}),Object(D.jsx)("p",{className:"Title",children:"To pay"}),Object(D.jsxs)("p",{className:"ToPay",children:["$",(ve+ge).toFixed(2)]}),t.test(x)&&s.test(N.replace(" ",""))&&0!==ge&&("Card"==K&&a.test(X)||n.test(X)||i.test(X)&&ce.length>0&&re>=100&&re<=9999)||"PayPal"==K&&t.test(Oe)||"Swish"==K&&s.test(be)?Object(D.jsx)(A.b,{to:"/confirmation",className:"PurchaseButton",onClick:function(){t.test(x)&&s.test(N.replace(" ",""))&&0!==ge&&("Card"==K?(a.test(X)||n.test(X)||i.test(X)&&ce.length>0&&re>=100&&re<=9999)&&(ke(x,[l+" "+h,P,L.length>0?L:"",G,U,I],Ce,K+" - "+X.substring(12,16),ve,ge),localStorage.removeItem("cart")):"PayPal"==K?t.test(Oe)&&(ke(x,[l+" "+h,P,L.length>0?L:"",G,U,I],Ce,K+" - "+Oe,ve,ge),localStorage.removeItem("cart")):"Swish"==K&&s.test(be)&&(ke(x,[l+" "+h,P,L.length>0?L:"",G,U,I],Ce,K+" - "+be,ve,ge),localStorage.removeItem("cart")))},children:"Complete the purchase"}):Object(D.jsx)("button",{className:"NotReadyPurchaseButton",children:"Complete the purchase"})]})};s(466);var de=function(){var e=Object(b.c)((function(e){return e.cart.payment}));return e.length>0?Object(D.jsx)("div",{className:"Confirmation",children:Object(D.jsxs)("main",{children:[Object(D.jsx)("img",{className:"ConfirmationIcon",src:"/MovieShop/images/confirmed.svg",alt:"confirmed"}),Object(D.jsx)("h1",{className:"ConfirmationTitle",children:"Order confirmed"}),Object(D.jsxs)("p",{className:"ConfirmationID",children:["Order #",function(e){for(var t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}(10)]}),Object(D.jsxs)("p",{className:"ConfirmationText",children:["We will be sending you an email confirmation to ",Object(D.jsx)("b",{children:e[0]})," shortly."]}),Object(D.jsx)("hr",{}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Address"}),Object(D.jsxs)("p",{className:"ConfirmationInfoText",children:[e[1][0],Object(D.jsx)("br",{}),e[1][1],Object(D.jsx)("br",{}),e[1][2],""===e[1][2]?Object(D.jsx)("b",{}):Object(D.jsx)("br",{}),e[1][3],Object(D.jsx)("br",{}),e[1][4],Object(D.jsx)("br",{}),e[1][5]]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Shipping method"}),Object(D.jsx)("p",{className:"ConfirmationInfoText",children:e[2]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Payment method"}),Object(D.jsx)("p",{className:"ConfirmationInfoText",children:e[3]})]}),Object(D.jsx)("br",{}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Subtotal"}),Object(D.jsxs)("p",{className:"ConfirmationInfoText",children:["$",e[4].toFixed(2)]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Shipping"}),Object(D.jsxs)("p",{className:"ConfirmationInfoText",children:["$",e[5].toFixed(2)]})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("p",{className:"ConfirmationInfoTitle",children:"Total"}),Object(D.jsxs)("p",{className:"ConfirmationInfoText",children:["$",(e[4]+e[5]).toFixed(2)]})]})]})}):Object(D.jsx)(te.a,{to:"/cart"})};s(467);var me=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),s=t[0],a=t[1];Object(c.useEffect)((function(){var e=localStorage.getItem("favourite");(e=JSON.parse(e))&&a(e)}),[]);var n=Object(c.useState)(!1),i=Object(u.a)(n,2),r=i[0],o=i[1],l=Object(c.useState)(!1),j=Object(u.a)(l,2);return j[0],j[1],Object(D.jsxs)("div",{className:"Container",children:[Object(D.jsxs)("header",{className:"SavedMovies",children:[Object(D.jsx)("h1",{children:"Saved Movies"}),Object(D.jsx)("img",{src:"/MovieShop/images/edit.svg",onClick:function(){return o(!r)}})]}),Object(D.jsx)("div",{className:"RowItem",children:Object(D.jsx)("div",{className:"MovieItems",children:s.map((function(e){return Object(D.jsx)(A.b,{className:"MovieContainer",to:"/MovieInfo/".concat(e.id),children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"MoviePoster",children:["https://image.tmdb.org/t/p/w500null"!==e.img?Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:e.img,alt:e.title})}):Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:E,alt:e.title})}),Object(D.jsx)("p",{className:"MovieTitle",children:e.title})]}),Object(D.jsx)("div",{className:"RemoveFavourites",children:r?Object(D.jsx)("img",{src:"/MovieShop/images/clear.svg",onClick:function(){return function(e){var t=Object(ie.a)(s);t=t.filter((function(t){return t.id!==e})),a(t);var c=JSON.stringify(t);localStorage.setItem("favourite",c)}(e.id)}}):null})]})})}))})})]})},he=s(78),Oe=s(79),pe=s(81),ve=s(80),xe=(s(468),s(64)),fe=(s(469),s(66)),ge=(fe.a.initializeApp({apiKey:"AIzaSyAjIRBg6j-kTlaDtUK3t8gphrEdz0mTVTI",authDomain:"movieshop-416b8.firebaseapp.com",projectId:"movieshop-416b8",storageBucket:"movieshop-416b8.appspot.com",messagingSenderId:"167558452114",appId:"1:167558452114:web:41e89ba165852727f2a74b",measurementId:"G-BDL0KJDFF8"}),fe.a.firestore()),ye=(fe.a.auth(),fe.a.storage(),"#f8d568"),Ne="#696969",Se=ge.collection("movieinfo");var Ce=function(e){var t=e.movId;console.log("movieId in starrating:"+t);var s=Object(c.useState)([]),a=Object(u.a)(s,2),n=a[0],i=a[1],r=Object(c.useState)(""),o=Object(u.a)(r,2),l=o[0],j=o[1];Object(c.useEffect)((function(){console.log("Props Content"+t),b()}),[]);var b=function(){console.log("Fetching Data"+t),Se.where("movieId","==",t).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(m.a)({},e.data()))})),i(t),console.log("Got from firestore:"+t),console.log("setPosts value:"+i.value)}))},d=Array(5).fill(0),h=Array(5).fill(0),O=Object(c.useState)(0),p=Object(u.a)(O,2),v=p[0],x=p[1],f=Object(c.useState)(void 0),g=Object(u.a)(f,2),y=g[0],N=g[1],S=function(){N(void 0)};return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsxs)("h3",{children:[Object(D.jsx)("u",{children:" Ratings and Comments"})," "]}),Object(D.jsx)("br",{}),n.map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("p",{children:[" ",h.map((function(t,s){return Object(D.jsx)(xe.a,{className:"starSelected",color:e.movieRating>s?ye:Ne},s)})),Object(D.jsx)("span",{children:" "+e.movieComments})]}),Object(D.jsx)("hr",{className:"lineBreak"})]})})),Object(D.jsx)("br",{}),Object(D.jsx)("div",{className:"star",children:d.map((function(e,t){return Object(D.jsx)(xe.a,{className:"ratingStar",color:(y||v)>t?ye:Ne,onClick:function(){x(t+1)},onMouseOver:function(){N(t+1)},onMouseLeave:S},t)}))}),Object(D.jsxs)("div",{className:"comments",children:[Object(D.jsx)("textarea",{className:"userComments",placeholder:"Write Comments",onBlur:function(e){console.log("You finished typing:",j)},value:l,onChange:function(e){return j(e.target.value)}}),Object(D.jsx)("button",{className:"submitBtn",onClick:function(){console.log("User comments submitted:"+l),console.log("star value"+v);var e={movieId:t,movieRating:+v,movieComments:l};Se.add(e).then((function(){console.log("Document successfully written!"),j(""),x(0),b()})).catch((function(e){console.error("Error writing document: ",e)}))},children:"Submit"})]})]})},Me="https://image.tmdb.org/t/p/w500",Ie=function(e){Object(pe.a)(s,e);var t=Object(ve.a)(s);function s(e){var a;return Object(he.a)(this,s),(a=t.call(this,e)).addItem=function(e,t){var s=a.state.cart,c=null;console.log("Cart"+s),s&&(c=s.find((function(t){return t.id===e}))),c?c.quantity+=1:(console.log("New Cart"+t.title),s.push(t)),a.setState({cart:s});var n=JSON.stringify(s);localStorage.setItem("cart",n)},a.addFavourite=function(e,t){var s=a.state.favouriteList,c=null;console.log("Favorite:"+s),s&&(c=s.find((function(t){return t.id===e}))),c||(console.log("New Favourite:"+t.title),s.push(t)),a.setState({favouriteList:s});var n=JSON.stringify(s);localStorage.setItem("favourite",n)},a.state={apiResponse:null,cart:[],favouriteList:[],mov_id:"",hours:0,minutes:0},a}return Object(Oe.a)(s,[{key:"componentDidMount",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,s,a,c,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.movId,console.log("Movie Id from Info Page"+t),"?api_key=3dbd54ecb77c41b970728ba04b569d4c","https://api.themoviedb.org/3/movie/",s="https://api.themoviedb.org/3/movie/"+t+"?api_key=3dbd54ecb77c41b970728ba04b569d4c",console.log(s),e.next=8,fetch(s);case 8:return a=e.sent,e.next=11,a.json();case 11:c=e.sent,this.setState({apiResponse:c}),this.setState({mov_id:c.id}),(n=localStorage.getItem("cart"))&&this.setState({cart:JSON.parse(n)}),(i=localStorage.getItem("favourite"))&&this.setState({favouriteList:JSON.parse(i)});case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.apiResponse?Object(D.jsxs)("div",{className:"viewMovieDetails",children:[Object(D.jsx)("div",{className:"poster_img",children:Object(D.jsx)("img",{src:Me+this.state.apiResponse.poster_path,alt:""})}),Object(D.jsxs)("div",{className:"movieBox",children:[Object(D.jsxs)("div",{className:"movieTitle",children:[Object(D.jsxs)("h2",{children:[" ",this.state.apiResponse.title," "]}),Object(D.jsxs)("span",{children:[Object(D.jsxs)("b",{children:[" $",7.9+this.state.apiResponse.vote_average/10]})," "]}),Object(D.jsx)(A.b,{className:"NaviationButton",to:"/favourites",children:Object(D.jsx)("img",{src:"/MovieShop/images/favourites.svg",className:"favIcon",onClick:function(){return e.addFavourite(e.state.apiResponse.id,{id:e.state.apiResponse.id,title:e.state.apiResponse.title,img:Me+e.state.apiResponse.poster_path})}})})]}),Object(D.jsxs)("div",{className:"release_status",children:["(",this.state.apiResponse.status,")",Object(D.jsx)("span",{className:"lang",children:Object(D.jsx)("b",{children:this.state.apiResponse.original_language})})]}),Object(D.jsx)("div",{className:"ratings",children:Object(D.jsxs)("p",{children:[" ",Object(D.jsx)(xe.a,{style:{color:"yellow"}}),Object(D.jsxs)("span",{className:"rating_value",children:[this.state.apiResponse.vote_average," "]}),Object(D.jsxs)("span",{className:"vote_counts",children:[this.state.apiResponse.vote_count.toLocaleString("en-US")," votes"]})]})}),Object(D.jsxs)("div",{className:"runtime",children:[Object(D.jsxs)("p",{children:[" ",Object(D.jsxs)("i",{children:[" ",Math.floor(this.state.apiResponse.runtime/60)," hours ",this.state.apiResponse.runtime%60," minutes "]})]}),Object(D.jsx)("div",{className:"genres",children:Object(D.jsxs)("p",{className:"classGenres",children:["  ",this.state.apiResponse.genres.map((function(e){return e.name}))+" ","    "]})})]}),Object(D.jsxs)("div",{className:"overview",children:[Object(D.jsx)("h3",{children:Object(D.jsx)("u",{children:"Overview"})}),Object(D.jsxs)("p",{children:[this.state.apiResponse.overview," "]})]}),Object(D.jsxs)("section",{className:"technicalInfo",children:[Object(D.jsx)("input",{type:"checkbox",id:"chk"}),Object(D.jsx)("label",{className:"chkBtn",for:"chk",children:Object(D.jsx)("u",{children:" Technical Information"})}),Object(D.jsxs)("div",{className:"technicalContent",children:[Object(D.jsx)("div",{className:"release-date",children:Object(D.jsxs)("p",{children:[" ",Object(D.jsx)("b",{children:"Released Date:"})," ",this.state.apiResponse.release_date]})}),Object(D.jsx)("div",{className:"spoken-languages",children:Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Spoken Languages:"})," ",this.state.apiResponse.spoken_languages.map((function(e){return e.english_name}))+" "]})}),Object(D.jsx)("div",{className:"homepage",children:Object(D.jsxs)("p",{children:[" ",Object(D.jsx)("a",{id:"hmpage",href:this.state.apiResponse.homepage,target:"_blank",children:"Visit Site"})]})}),Object(D.jsxs)("div",{className:"production-companies",children:[Object(D.jsx)("h4",{children:Object(D.jsx)("u",{children:"Credits"})}),Object(D.jsx)("h4",{children:Object(D.jsx)("u",{children:"Production Companies:"})}),Object(D.jsx)("p",{children:this.state.apiResponse.production_companies.map((function(e){return e.name}))+" "})]}),Object(D.jsx)("div",{className:"revenue",children:Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Revenue:"}),this.state.apiResponse.revenue.toLocaleString("en-US")," USD"]})}),Object(D.jsx)("div",{className:"budget",children:Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Budget:"}),this.state.apiResponse.budget.toLocaleString("en-US")," USD"]})}),Object(D.jsx)("div",{className:"popularity",children:Object(D.jsxs)("p",{children:[Object(D.jsx)("b",{children:"Popularity:"}),this.state.apiResponse.popularity," "]})})]})]}),Object(D.jsx)("br",{}),Object(D.jsx)("div",{className:"addCart",children:Object(D.jsx)(A.b,{to:"/Cart",className:"cart",onClick:function(){return e.addItem(e.state.apiResponse.id,{id:e.state.apiResponse.id,title:e.state.apiResponse.title,img:Me+e.state.apiResponse.poster_path,price:7.9+e.state.apiResponse.vote_average,quantity:1})},children:" ADD TO CART "})})]})]}):Object(D.jsx)("div",{children:"didn't get a Data"})}}]),s}(c.Component),ke=function(e){Object(pe.a)(s,e);var t=Object(ve.a)(s);function s(){var e;Object(he.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={movie_id:""},e}return Object(Oe.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.id;this.setState({movie_id:e}),window.scrollTo(0,0)}},{key:"render",value:function(){return""!=this.state.movie_id?Object(D.jsxs)("div",{className:"movieDetailContainer",children:[Object(D.jsx)(Ie,{movId:this.state.movie_id}),Object(D.jsx)(Ce,{movId:this.state.movie_id})]}):Object(D.jsx)("div",{children:Object(D.jsx)("h1",{children:"Invalid Movie ID"})})}}]),s}(c.Component);var we=function(){return Object(D.jsx)(A.a,{basename:"/",children:Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)("main",{children:Object(D.jsxs)(te.d,{children:[Object(D.jsxs)(te.b,{exact:!0,path:"/",children:[Object(D.jsx)(ne,{}),Object(D.jsx)("div",{className:"movie-list-container",style:{position:"absolute",top:"65vh"},children:Object(D.jsx)(G,{})})]}),Object(D.jsxs)(te.b,{exact:!0,path:"/cart",children:[" ",Object(D.jsx)(ue,{})," "]}),Object(D.jsxs)(te.b,{exact:!0,path:"/payment",children:[" ",Object(D.jsx)(be,{})," "]}),Object(D.jsxs)(te.b,{exact:!0,path:"/confirmation",children:[" ",Object(D.jsx)(de,{})," "]}),Object(D.jsxs)(te.b,{exact:!0,path:"/favourites",children:[" ",Object(D.jsx)(me,{})," "]}),Object(D.jsx)(te.b,{exact:!0,path:"/MovieInfo/:id",render:function(e){return Object(D.jsx)(ke,{id:e.match.params.id})}})]})}),Object(D.jsx)("footer",{children:Object(D.jsx)($,{})})]})})},Re=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,475)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))},Pe=s(34),Te=Object(Pe.b)({movieList:B,cart:je,jumboLoader:ee}),_e=Object(h.a)({reducer:Te});r.a.render(Object(D.jsx)(n.a.StrictMode,{children:Object(D.jsx)(b.a,{store:_e,children:Object(D.jsx)(we,{})})}),document.getElementById("root")),Re()}},[[474,1,2]]]);
//# sourceMappingURL=main.41c91054.chunk.js.map