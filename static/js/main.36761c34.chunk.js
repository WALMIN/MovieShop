(this["webpackJsonpmovie-shop"]=this["webpackJsonpmovie-shop"]||[]).push([[0],{108:function(e,t,s){},162:function(e,t,s){},163:function(e,t,s){},462:function(e,t,s){},463:function(e,t,s){},464:function(e,t,s){},465:function(e,t,s){},466:function(e,t,s){},467:function(e,t,s){},468:function(e,t,s){},469:function(e,t,s){},474:function(e,t,s){"use strict";s.r(t);var a,c=s(4),n=s.n(c),i=s(59),r=s.n(i),o=(s(162),s(163),s(40)),l=s.n(o),j=s(61),b=s(8),u=s(11),d=s(16),m=s(22),h=s(13),O=Object(h.b)("is fetching GENRES"),p=Object(h.b)("is fetching MOVIES by GENRE"),v=Object(h.b)("success genres"),x=Object(h.b)("success all movies"),f=Object(h.b)("succsess"),g=Object(h.b)("faliure"),y=Object(h.b)("genres done fetched"),N=Object(h.b)("subMovies done fetched"),S=Object(h.b)("resetting Lists"),C=Object(h.b)("fetcher statuses succsess"),M={isFetching:O,isFetchingMovieByGenre:p,succsess:f,successAllGenres:v,successAllMovies:x,faliure:g,listGenreFetched:y,listMoviesFetched:N,resetLists:S,pushPartFetch:C},I="normal",k="Is fetching Genres..",R="Is fetching Movies by Genres..",w="Success GENRES",T="Success MOVIES BY GENRE",P="succsess",_="faliure",E="api fetcher statuses success",F={status:I,arrayGenre:[],arrayMovieList:[]},B=Object(h.c)(F,(a={},Object(d.a)(a,O,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:k})})),Object(d.a)(a,v,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:w})})),Object(d.a)(a,p,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:R})})),Object(d.a)(a,x,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:T})})),Object(d.a)(a,f,(function(e,t){var s=t.payload;e.status=s})),Object(d.a)(a,g,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{status:_})})),Object(d.a)(a,C,(function(e,t){e.arrayMovieList.push(t.payload),e.status=E})),Object(d.a)(a,y,(function(e,t){var s=t.payload;e.arrayGenre=s,e.status=R})),Object(d.a)(a,N,(function(e,t){var s=t.payload;e.arrayMovieList.push(s)})),Object(d.a)(a,S,(function(e,t){e.arrayGenre=[],e.arrayMovieList=[]})),a)),L=(s(108),s(109),s(2)),D=function(e){var t=e.item,s=null;return null!=t?(s="https://image.tmdb.org/t/p/w500/"+t.poster_path,Object(L.jsx)(n.a.Fragment,{children:Object(L.jsx)("img",{className:"poster-img",src:s,alt:"No image available"})})):Object(L.jsx)("div",{children:Object(L.jsx)("p",{children:"Emptyness"})})},A=s(17);var q=function(){var e=Object(u.c)((function(e){return e.movieList.status})),t=(Object(u.c)((function(e){return e.movieList.arrayGenre})),Object(u.c)((function(e){return e.movieList.arrayMovieList}))),s=Object(u.b)(),a=Object(c.useState)(null),n=Object(b.a)(a,2);n[0],n[1];if(Object(c.useEffect)((function(){!function(e){e(M.isFetching());var t="3dbd54ecb77c41b970728ba04b569d4c",s="".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat(t);console.log("Fetching\u202fdata..."),fetch(s).then(function(){var t=Object(j.a)(l.a.mark((function t(s){var a,c,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.json();case 2:if(a=t.sent,s.ok){t.next=6;break}return c=a&&a.message||s.statusText,t.abrupt("return",Promise.reject(c));case 6:n=JSON.stringify(a.genres),JSON.parse(n).forEach((function(t){var s="https://api.themoviedb.org/3/discover/movie?api_key=3dbd54ecb77c41b970728ba04b569d4c&language=en-US&sort_by=popularity.asc&include_adult=false&include_video=false&page=1&vote_count.gte=7&with_genres=".concat(t.id);fetch(s).then(function(){var s=Object(j.a)(l.a.mark((function s(a){var c,n,i,r;return l.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,a.json();case 2:if(c=s.sent,a.ok){s.next=6;break}return n=c&&c.message||a.statusText,s.abrupt("return",Promise.reject(n));case 6:i=c.results,r={id:t.id,name:t.name,movies:i},e(M.listMoviesFetched(r)),e(M.successAllMovies());case 10:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){console.error("There\u202fwas\u202fan\u202ferror!",e)}))}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error("There\u202fwas\u202fan\u202ferror!",e)}))}(s)}),[s]),e===I)return Object(L.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("Redo\u202ff\xf6r\u202fatt\u202fladda\u202ffakta!\u202fB\xf6rjar\u202fh\xe4mta\u202falla\u202fgenres!"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===k)return Object(L.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("H\xe4mtar\u202fnu\u202falla\u202fgenres"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===w)return Object(L.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("Nu\u202f\xe4r\u202farrayGenre\u202fklar"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===R)return Object(L.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",console.log("H\xe4mtar\u202fnu\u202falla\u202fMOVIES\u202fenligt\u202fGENRES...."),"\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f \u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]});if(e===T){return Object(L.jsxs)("div",{className:"genre-movie-container",children:[" 2",console.log("Nu\u202f\xe4r\u202farrayMovieList\u202fklar"),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",t.map((function(e){return Object(L.jsxs)("div",{className:"movie-row-container",children:[" 3",Object(L.jsx)("h1",{className:"genre-title",children:e.name}),Object(L.jsxs)("div",{className:"content-row-genre-item-movie",children:[" 3.2",e.movies.map((function(e){return Object(L.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),className:"contentrow-link-container",children:Object(L.jsx)(D,{item:e})})}))]})]})})),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]})}return e===P?Object(L.jsxs)("div",{children:["\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f","\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f",Object(L.jsx)("p",{children:"Alla\u202fGENRES\u202foch\u202fMOVIES\u202fnu\u202fklara"}),"\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f\u202f"]}):e===_?null:void 0};s(462);var G=function(){return Object(L.jsxs)("div",{className:"NavigationBar",children:[Object(L.jsxs)(A.b,{className:"NaviationButton",to:"/",children:[Object(L.jsx)("img",{src:"/MovieShop/images/home.svg"}),"Home"]}),Object(L.jsxs)(A.b,{className:"NaviationButton",to:"/favourites",children:[Object(L.jsx)("img",{src:"/MovieShop/images/favourites.svg"}),"Favourites"]}),Object(L.jsxs)(A.b,{className:"NaviationButton",to:"/cart",children:[Object(L.jsx)("img",{src:"/MovieShop/images/cart.svg"}),"Cart"]})]})};s(463);function V(e){return Math.floor(Math.random()*e)}var J,U=function(){var e=Object(u.c)((function(e){return e.movieList.arrayMovieList})),t=Object(c.useState)(0),s=Object(b.a)(t,2),a=(s[0],s[1],[]),n=0,i=0;if(e.length>0){var r="https://image.tmdb.org/t/p/w500/"+(a=e[n=V(e.length)].movies)[i=V(a.length)].backdrop_path;return Object(L.jsx)("div",{className:"jumbotron",style:{backgroundImage:" linear-gradient(rgba(255, 99, 71, 0), rgba(20, 20, 20, 0.82)), url("+r+")"},children:Object(L.jsxs)("div",{className:"synopsis",children:[Object(L.jsx)("h1",{children:a[i].original_title}),Object(L.jsx)("br",{}),Object(L.jsx)("p",{children:a[i].overview}),Object(L.jsx)("br",{}),Object(L.jsx)("button",{children:"More Info"}),Object(L.jsxs)("p",{children:["RANDOM INDEX ",n]})]})})}return Object(L.jsx)("div",{className:"jumbotron",children:Object(L.jsx)("p",{children:"Adult Yes? no? "})})},$=s(64),H=(s(464),Object(h.b)("updateSubtotal")),K=Object(h.b)("updatePayment"),z={updateSubtotal:H,updatePayment:K},Q=Object(h.c)({subtotal:0,payment:[]},(J={},Object(d.a)(J,H,(function(e,t){return{subtotal:t.payload}})),Object(d.a)(J,K,(function(e,t){return{payment:t.payload}})),J));var Y=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(0),i=Object(b.a)(n,2),r=i[0],o=i[1];Object(c.useEffect)((function(){var e=localStorage.getItem("cart");(e=JSON.parse(e))&&(a(e),o(0),e.map((function(e){return o((function(t){return t+e.quantity*e.price}))})))}),[]);var l=function(e,t){var c=Object($.a)(s),n=c.find((function(t){return t.id===e}));if(n){t?n.quantity+=1:n.quantity-=1,n.quantity<=0&&(c=c.filter((function(t){return t.id!==e}))),a(c);var i=JSON.stringify(c);localStorage.setItem("cart",i),o(0),c.map((function(e){return o((function(t){return t+e.quantity*e.price}))}))}},j=Object(u.b)();return Object(L.jsxs)("div",{className:"Cart",children:[Object(L.jsxs)("header",{className:"Cart-header",children:[Object(L.jsx)("h1",{children:"Cart"}),Object(L.jsxs)("div",{children:[Object(L.jsxs)("h2",{className:"Price",children:[r.toFixed(2)," kr"]}),Object(L.jsx)(A.b,{className:"CheckoutButton",to:"/payment",onClick:function(){return function(e){j(z.updateSubtotal(e))}(r)},children:"Checkout"})]})]}),Object(L.jsx)("main",{children:s.length>0?s.map((function(e){return Object(L.jsx)("div",{className:"MovieItem",children:Object(L.jsxs)("div",{className:"MovieItemInfo",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),children:Object(L.jsx)("img",{src:e.img,alt:e.title})}),Object(L.jsxs)("div",{className:"MovieItemInnerInfo",children:[Object(L.jsx)(A.b,{to:"/MovieInfo/".concat(e.id),className:"MovieTitle",children:e.title}),Object(L.jsxs)("div",{className:"Quantity",children:[Object(L.jsx)("img",{className:"QuantityAddButton",src:"/MovieShop/images/remove.svg",onClick:function(){return l(e.id,!1)},alt:"Remove"}),Object(L.jsx)("p",{className:"Quantity",children:e.quantity}),Object(L.jsx)("img",{className:"QuantityRemoveButton",src:"/MovieShop/images/add.svg",onClick:function(){return l(e.id,!0)},alt:"Add"}),Object(L.jsx)("img",{className:"RemoveButton",src:"/MovieShop/images/delete.svg",onClick:function(){return function(e){var t=Object($.a)(s);t=t.filter((function(t){return t.id!==e})),a(t);var c=JSON.stringify(t);localStorage.setItem("cart",c),o(0),t.map((function(e){return o((function(t){return t+e.quantity*e.price}))}))}(e.id)},alt:"Delete"})]})]})]}),Object(L.jsxs)("p",{className:"MoviePrice",children:[e.price.toFixed(2)," kr"]})]})},e.id)})):Object(L.jsxs)("div",{className:"Cart-empty",children:[Object(L.jsx)("img",{className:"CartImage",src:"/MovieShop/images/cart-empty.svg",alt:"Cart"}),Object(L.jsx)("p",{className:"CartTitle",children:"Oops! Your cart is empty!"}),Object(L.jsxs)("p",{className:"CartText",children:["Looks like you haven't added",Object(L.jsx)("br",{}),"anything to your cart yet"]}),Object(L.jsx)(A.b,{className:"CartButton",to:"/",children:"Continue shopping"})]})})]})},W=(s(465),s(15));var Z=function(){var e=Object(u.c)((function(e){return e.cart.payment})),t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,s=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,a=/^3[47][0-9]{13}$/,n=/^4[0-9]{12}(?:[0-9]{3})?$/,i=/^5[1-5][0-9]{14}$|^2(?:2(?:2[1-9]|[3-9][0-9])|[3-6][0-9][0-9]|7(?:[01][0-9]|20))[0-9]{12}$/,r=Object(c.useState)(""),o=Object(b.a)(r,2),l=o[0],j=o[1],d=Object(c.useState)(""),m=Object(b.a)(d,2),h=m[0],O=m[1],p=Object(c.useState)(""),v=Object(b.a)(p,2),x=v[0],f=v[1],g=Object(c.useState)(""),y=Object(b.a)(g,2),N=y[0],S=y[1],C=Object(c.useState)(""),M=Object(b.a)(C,2),I=M[0],k=M[1],R=Object(c.useState)(""),w=Object(b.a)(R,2),T=w[0],P=w[1],_=Object(c.useState)(""),E=Object(b.a)(_,2),F=E[0],B=E[1],D=Object(c.useState)(""),q=Object(b.a)(D,2),G=q[0],V=q[1],J=Object(c.useState)(""),U=Object(b.a)(J,2),$=U[0],H=U[1],K=Object(c.useState)(""),Q=Object(b.a)(K,2),Y=Q[0],Z=Q[1],X=Object(c.useState)(""),ee=Object(b.a)(X,2),te=ee[0],se=ee[1],ae=Object(c.useState)(""),ce=Object(b.a)(ae,2),ne=(ce[0],ce[1]),ie=Object(c.useState)(""),re=Object(b.a)(ie,2),oe=re[0],le=re[1],je=Object(c.useState)(""),be=Object(b.a)(je,2),ue=be[0],de=be[1],me=Object(c.useState)(""),he=Object(b.a)(me,2),Oe=he[0],pe=he[1],ve=Object(u.c)((function(e){return e.cart.subtotal})),xe=Object(c.useState)(0),fe=Object(b.a)(xe,2),ge=fe[0],ye=fe[1],Ne=Object(c.useState)(""),Se=Object(b.a)(Ne,2),Ce=Se[0],Me=Se[1],Ie=Object(u.b)(),ke=function(e,t,s,a,c,n){return Ie(z.updatePayment([e,t,s,a,c,n])),Object(L.jsx)(W.a,{to:"/confirmation"})};return 0===ve||null===e?Object(L.jsx)(W.a,{to:"/cart"}):Object(L.jsxs)("div",{className:"Payment",children:[Object(L.jsx)("p",{className:"Title",children:"Billing details"}),Object(L.jsxs)("div",{className:"BillingDetails",children:[Object(L.jsx)("input",{type:"text",placeholder:"First name",autocomplete:"given-name",value:l,onChange:function(e){j(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Last name",autocomplete:"family-name",value:h,onChange:function(e){O(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Email",autocomplete:"email",value:x,onChange:function(e){f(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Phone",autocomplete:"tel",value:N,onChange:function(e){S(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Country",autocomplete:"country-name",value:I,onChange:function(e){k(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Street name and house number",autocomplete:"street-address",value:T,onChange:function(e){P(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"Apartment, suite, unit, etc. (optional)",value:F,onChange:function(e){B(e.target.value)}}),Object(L.jsx)("input",{type:"text",placeholder:"Postal code",value:G,onChange:function(e){V(e.target.value)},required:!0}),Object(L.jsx)("input",{type:"text",placeholder:"City",value:$,onChange:function(e){H(e.target.value)},required:!0})]}),Object(L.jsx)("p",{className:"Title",children:"Shipping"}),[["Postnord","postnord.webp","Delivery within 3-4 weekdays",29],["DHL","dhl.png","Delivery within 3-4 weekdays",29],["Instabox","instabox.png","Delivery within 1-2 days",39],["Budbee","budbee.png","Home delivery within 1-2 weekdays",49]].map((function(e){return Object(L.jsxs)("div",{className:"ShippingOption",children:[Object(L.jsxs)("div",{className:"ShippingTitle",children:[Object(L.jsx)("input",{type:"radio",name:"shipping",value:e[0],onClick:function(){ye(e[3]),Me(e[0])}}),Object(L.jsxs)("label",{for:e[0],children:[Object(L.jsx)("img",{src:"/MovieShop/images/shipping/"+e[1]}),Object(L.jsxs)("p",{children:["+",e[3]," kr"]})]})]}),Object(L.jsx)("p",{className:"ShippingInfo",children:e[2]})]})})),Object(L.jsx)("p",{className:"Title",children:"Payment"}),Object(L.jsxs)("div",{className:"PaymentMethod",children:[Object(L.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(L.jsx)("div",{children:Object(L.jsx)("input",{type:"radio",name:"payment",value:Y,onClick:function(){return Z("Card")}})}),Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{src:"/MovieShop/images/payment/visa.jpg"}),Object(L.jsx)("img",{src:"/MovieShop/images/payment/mastercard.png"}),Object(L.jsx)("img",{src:"/MovieShop/images/payment/american-express.jpg"})]})]}),"Card"===Y?Object(L.jsxs)("div",{className:"PaymentMethodFields",children:[Object(L.jsx)("input",{type:"text",placeholder:"Card number",autocomplete:"cc-number",value:te,onChange:function(e){se(e.target.value)},style:{"margin-bottom":"1vmin"},required:!0}),Object(L.jsx)("input",{type:"month",autocomplete:"cc-exp",onChange:function(e){ne(e.target.value)},style:{"margin-bottom":"1vmin"},required:!0}),Object(L.jsx)("input",{type:"number",placeholder:"CVC/CVV",min:"0",max:"9999",maxlength:"4",autocomplete:"cc-csc",value:oe,onChange:function(e){le(e.target.value)},required:!0})]}):null]}),Object(L.jsxs)("div",{className:"PaymentMethod",children:[Object(L.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(L.jsx)("div",{children:Object(L.jsx)("input",{type:"radio",name:"payment",value:Y,onClick:function(){return Z("PayPal")}})}),Object(L.jsx)("div",{children:Object(L.jsx)("img",{src:"/MovieShop/images/payment/paypal.png"})})]}),"PayPal"===Y?Object(L.jsx)("div",{className:"PaymentMethodFields",children:Object(L.jsx)("input",{type:"text",placeholder:"PayPal email",autocomplete:"email",value:Oe,onChange:function(e){pe(e.target.value)},required:!0})}):null]}),Object(L.jsxs)("div",{className:"PaymentMethod",children:[Object(L.jsxs)("div",{className:"PaymentMethodTitle",children:[Object(L.jsx)("div",{children:Object(L.jsx)("input",{type:"radio",name:"payment",value:Y,onClick:function(){return Z("Swish")}})}),Object(L.jsx)("div",{children:Object(L.jsx)("img",{src:"/MovieShop/images/payment/swish.svg"})})]}),"Swish"===Y?Object(L.jsx)("div",{className:"PaymentMethodFields",children:Object(L.jsx)("input",{type:"text",placeholder:"Swish number",autocomplete:"tel",value:ue,onChange:function(e){de(e.target.value)},required:!0})}):null]}),Object(L.jsx)("p",{className:"Title",children:"To pay"}),Object(L.jsxs)("p",{className:"ToPay",children:[(ve+ge).toFixed(2)," kr"]}),t.test(x)&&s.test(N.replace(" ",""))&&0!==ge&&("Card"==Y&&a.test(te)||n.test(te)||i.test(te)&&ne.length>0&&oe>=100&&oe<=9999)||"PayPal"==Y&&t.test(Oe)||"Swish"==Y&&s.test(ue)?Object(L.jsx)(A.b,{to:"/confirmation",className:"PurchaseButton",onClick:function(){t.test(x)&&s.test(N.replace(" ",""))&&0!==ge&&("Card"==Y?(a.test(te)||n.test(te)||i.test(te)&&ne.length>0&&oe>=100&&oe<=9999)&&(ke(x,[l+" "+h,T,F.length>0?F:"",G,$,I],Ce,Y+" - "+te.substring(12,16),ve,ge),localStorage.removeItem("cart")):"PayPal"==Y?t.test(Oe)&&(ke(x,[l+" "+h,T,F.length>0?F:"",G,$,I],Ce,Y+" - "+Oe,ve,ge),localStorage.removeItem("cart")):"Swish"==Y&&s.test(ue)&&(ke(x,[l+" "+h,T,F.length>0?F:"",G,$,I],Ce,Y+" - "+ue,ve,ge),localStorage.removeItem("cart")))},children:"Complete the purchase"}):Object(L.jsx)("button",{className:"NotReadyPurchaseButton",children:"Complete the purchase"})]})};s(466);var X,ee=function(){var e=Object(u.c)((function(e){return e.cart.payment}));return e.length>0?Object(L.jsx)("div",{className:"Confirmation",children:Object(L.jsxs)("main",{children:[Object(L.jsx)("img",{className:"ConfirmationIcon",src:"/MovieShop/images/confirmed.svg",alt:"confirmed"}),Object(L.jsx)("h1",{className:"ConfirmationTitle",children:"Order confirmed"}),Object(L.jsxs)("p",{className:"ConfirmationID",children:["Order #",function(e){for(var t="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",a=0;a<e;a++)t+=s.charAt(Math.floor(Math.random()*s.length));return t}(10)]}),Object(L.jsxs)("p",{className:"ConfirmationText",children:["We will be sending you an email confirmation to ",Object(L.jsx)("b",{children:e[0]})," shortly."]}),Object(L.jsx)("hr",{}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Address"}),Object(L.jsxs)("p",{className:"ConfirmationInfoText",children:[e[1][0],Object(L.jsx)("br",{}),e[1][1],Object(L.jsx)("br",{}),e[1][2],""===e[1][2]?Object(L.jsx)("b",{}):Object(L.jsx)("br",{}),e[1][3],Object(L.jsx)("br",{}),e[1][4],Object(L.jsx)("br",{}),e[1][5]]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Shipping method"}),Object(L.jsx)("p",{className:"ConfirmationInfoText",children:e[2]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Payment method"}),Object(L.jsx)("p",{className:"ConfirmationInfoText",children:e[3]})]}),Object(L.jsx)("br",{}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Subtotal"}),Object(L.jsxs)("p",{className:"ConfirmationInfoText",children:[e[4].toFixed(2)," kr"]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Shipping"}),Object(L.jsxs)("p",{className:"ConfirmationInfoText",children:[e[5].toFixed(2)," kr"]})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{className:"ConfirmationInfoTitle",children:"Total"}),Object(L.jsxs)("p",{className:"ConfirmationInfoText",children:[(e[4]+e[5]).toFixed(2)," kr"]})]})]})}):Object(L.jsx)(W.a,{to:"/cart"})},te=(s(467),Object(h.b)("add")),se=Object(h.b)("delete"),ae={addFavourites:te,deleteFavourites:se},ce=Object(h.c)({items:[[0,"Batman Begins","https://sfanytime-images-prod.secure.footprint.net/COVERM/ba242472-c422-41dd-a724-9f81010f54bf_COVERM_01.jpg?w=375&fm=pjpg&s=cd8710e230dbe303f7f9795a38beba57"],[1,"The Dark Knight","https://sfanytime-images-prod.secure.footprint.net/COVERM/COVERM_b9e21514-0507-4965-a0a4-7ebb3971dd90_01.jpg?w=375&fm=pjpg&s=14f65063145150c9ab0b824200da9075"],[2,"The Dark Knight Rises","https://static0.colliderimages.com/wordpress/wp-content/uploads/the-dark-knight-rises-imax-poster.jpeg"]]},(X={},Object(d.a)(X,te,(function(e,t){return Object(m.a)(Object(m.a)({},e),{},{items:[].concat(Object($.a)(e.items),[t.payload])})})),Object(d.a)(X,se,(function(e,t){var s=e.items.filter((function(e){return e[0]!==t.payload}));return Object(m.a)(Object(m.a)({},e),{},{items:s})})),X));var ne=function(){var e=Object(u.c)((function(e){return e.favouriteList.items})),t=Object(u.b)(),s=Object(c.useState)(!1),a=Object(b.a)(s,2),n=a[0],i=a[1],r=Object(c.useState)(!1),o=Object(b.a)(r,2);return o[0],o[1],Object(L.jsxs)("div",{className:"Container",children:[Object(L.jsxs)("header",{className:"SavedMovies",children:[Object(L.jsx)("h1",{children:"Saved Movies"}),Object(L.jsx)("img",{src:"/MovieShop/images/edit.svg",onClick:function(){return i(!n)}})]}),Object(L.jsx)("div",{className:"RowItem",children:Object(L.jsx)("div",{className:"MovieItems",children:e.map((function(e){return Object(L.jsxs)("div",{className:"MovieContainer",children:[Object(L.jsxs)("div",{className:"MoviePoster",children:[Object(L.jsx)("img",{src:e[2]}),Object(L.jsx)("p",{className:"MovieTitle",children:e[1]})]}),Object(L.jsx)("div",{className:"RemoveFavourites",children:n?Object(L.jsx)("img",{src:"/MovieShop/images/clear.svg",onClick:function(){return s=e[0],void t(ae.deleteFavourites(s));var s}}):null})]})}))})})]})},ie=s(154),re=s(155),oe=s(157),le=s(156),je=(s(468),s(77)),be=(s(469),s(65)),ue=(be.a.initializeApp({apiKey:"AIzaSyAjIRBg6j-kTlaDtUK3t8gphrEdz0mTVTI",authDomain:"movieshop-416b8.firebaseapp.com",projectId:"movieshop-416b8",storageBucket:"movieshop-416b8.appspot.com",messagingSenderId:"167558452114",appId:"1:167558452114:web:41e89ba165852727f2a74b",measurementId:"G-BDL0KJDFF8"}),be.a.firestore()),de=(be.a.auth(),be.a.storage(),"#f8d568"),me="#696969",he=ue.collection("movieinfo");var Oe=function(e){var t=e.movId;console.log("movieId in starrating:"+t);var s=Object(c.useState)([]),a=Object(b.a)(s,2),n=a[0],i=a[1],r=Object(c.useState)(""),o=Object(b.a)(r,2),l=o[0],j=o[1];Object(c.useEffect)((function(){he.where("movieId","==",t).onSnapshot((function(e){var t=[];e.forEach((function(e){var s=e.data();t.push(s),i(t)})),console.log("Got from firestore:"+t),console.log("setPosts value:"+i.value)}))}),[]);var u=Array(5).fill(0),d=Object(c.useState)(0),m=Object(b.a)(d,2),h=m[0],O=m[1],p=Object(c.useState)(void 0),v=Object(b.a)(p,2),x=v[0],f=v[1],g=function(){f(void 0)};return Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("h2",{children:" Ratings and Comments "}),n.map((function(e){return Object(L.jsx)("div",{children:Object(L.jsxs)("p",{children:[e.movieRating+" ",Object(L.jsx)("span",{children:e.movieComments})]})})})),Object(L.jsx)("div",{className:"star",children:u.map((function(e,t){return Object(L.jsx)(je.a,{className:"ratingStar",color:(x||h)>t?de:me,onClick:function(){O(t+1)},onMouseOver:function(){f(t+1)},onMouseLeave:g},t)}))}),Object(L.jsxs)("div",{className:"comments",children:[Object(L.jsx)("textarea",{className:"userComments",placeholder:"Write Comments",onBlur:function(e){console.log("You finished typing:",j)},value:l,onChange:function(e){return j(e.target.value)}}),Object(L.jsx)("button",{className:"submitBtn",onClick:function(){console.log("User comments submitted:"+l),console.log("star value"+h);var e={movieId:t,movieRating:+h,movieComments:l};he.add(e).then((function(){alert("Added ratings & Comments successfully"),console.log("Document successfully written!")})).catch((function(e){console.error("Error writing document: ",e)}))},children:"Submit"})]})]})},pe="https://image.tmdb.org/t/p/w500",ve=function(e){Object(oe.a)(s,e);var t=Object(le.a)(s);function s(){var e;Object(ie.a)(this,s);for(var a=arguments.length,c=new Array(a),n=0;n<a;n++)c[n]=arguments[n];return(e=t.call.apply(t,[this].concat(c))).state={apiResponse:null,cart:[],mov_id:""},e.addItem=function(t,s){var a=e.state.cart,c=null;console.log("Cart"+a),a&&(c=a.find((function(e){return e.id===t}))),c?c.quantity+=1:(console.log("New Cart"+s.title),a.push(s)),e.setState({cart:a});var n=JSON.stringify(a);localStorage.setItem("cart",n)},e}return Object(re.a)(s,[{key:"componentDidMount",value:function(){var e=Object(j.a)(l.a.mark((function e(){var t,s,a,c,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.id,console.log("Movie Id"+t),"?api_key=3dbd54ecb77c41b970728ba04b569d4c","https://api.themoviedb.org/3/movie/",s="https://api.themoviedb.org/3/movie/"+t+"?api_key=3dbd54ecb77c41b970728ba04b569d4c",e.next=7,fetch(s);case 7:return a=e.sent,e.next=10,a.json();case 10:c=e.sent,this.setState({apiResponse:c}),this.setState({mov_id:c.id}),(n=localStorage.getItem("cart"))&&this.setState({cart:JSON.parse(n)});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.apiResponse?Object(L.jsxs)("div",{className:"viewMovieDetails",children:[Object(L.jsx)("div",{className:"poster_img",children:Object(L.jsx)("img",{src:pe+this.state.apiResponse.poster_path,alt:""})}),Object(L.jsxs)("div",{className:"movieBox",children:[Object(L.jsxs)("div",{className:"movieTitle",children:[Object(L.jsxs)("h2",{children:[" ",this.state.apiResponse.title," "]}),Object(L.jsxs)("span",{children:[Object(L.jsxs)("b",{children:[" $",79+this.state.apiResponse.vote_average]})," "]})]}),Object(L.jsxs)("div",{className:"release_status",children:["(",this.state.apiResponse.status,")",Object(L.jsx)("span",{className:"lang",children:Object(L.jsx)("b",{children:this.state.apiResponse.original_language})})]}),Object(L.jsx)("div",{className:"ratings",children:Object(L.jsxs)("p",{children:[" ",Object(L.jsx)(je.a,{style:{color:"yellow"}}),Object(L.jsxs)("span",{className:"rating_value",children:[this.state.apiResponse.vote_average," "]}),Object(L.jsxs)("span",{className:"vote_counts",children:[this.state.apiResponse.vote_count.toLocaleString("en-US")," votes"]})]})}),Object(L.jsxs)("div",{className:"runtime",children:[Object(L.jsxs)("p",{children:[this.state.apiResponse.runtime," ",Object(L.jsx)("i",{children:"minutes"})]}),Object(L.jsx)("div",{className:"genres",children:Object(L.jsxs)("p",{className:"classGenres",children:["  ",this.state.apiResponse.genres.map((function(e){return e.name}))+" ","    "]})})]}),Object(L.jsxs)("div",{className:"overview",children:[Object(L.jsx)("h3",{children:Object(L.jsx)("u",{children:"Overview"})}),Object(L.jsxs)("p",{children:[this.state.apiResponse.overview," "]})]}),Object(L.jsxs)("section",{className:"technicalInfo",children:[Object(L.jsx)("input",{type:"checkbox",id:"chk"}),Object(L.jsx)("label",{className:"chkBtn",for:"chk",children:Object(L.jsx)("u",{children:" Technical Information"})}),Object(L.jsxs)("div",{className:"technicalContent",children:[Object(L.jsx)("div",{className:"release-date",children:Object(L.jsxs)("p",{children:[" ",Object(L.jsx)("b",{children:"Released Date:"})," ",this.state.apiResponse.release_date]})}),Object(L.jsx)("div",{className:"spoken-languages",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Spoken Languages:"})," ",this.state.apiResponse.spoken_languages.map((function(e){return e.english_name}))+" "]})}),Object(L.jsx)("div",{className:"homepage",children:Object(L.jsxs)("p",{children:[" ",Object(L.jsx)("a",{id:"hmpage",href:this.state.apiResponse.homepage,target:"_blank",children:"Visit Site"})]})}),Object(L.jsxs)("div",{className:"production-companies",children:[Object(L.jsx)("h4",{children:Object(L.jsx)("u",{children:"Credits"})}),Object(L.jsx)("h4",{children:Object(L.jsx)("u",{children:"Production Companies:"})}),Object(L.jsx)("p",{children:this.state.apiResponse.production_companies.map((function(e){return e.name}))+" "})]}),Object(L.jsx)("div",{className:"revenue",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Revenue:"}),this.state.apiResponse.revenue.toLocaleString("en-US")," USD"]})}),Object(L.jsx)("div",{className:"budget",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Budget:"}),this.state.apiResponse.budget.toLocaleString("en-US")," USD"]})}),Object(L.jsx)("div",{className:"popularity",children:Object(L.jsxs)("p",{children:[Object(L.jsx)("b",{children:"Popularity:"}),this.state.apiResponse.popularity," "]})})]})]}),Object(L.jsx)("br",{}),Object(L.jsx)("div",{className:"addCart",children:Object(L.jsx)(A.b,{to:"/Cart",className:"cart",onClick:function(){return e.addItem(e.state.apiResponse.id,{id:e.state.apiResponse.id,title:e.state.apiResponse.title,img:pe+e.state.apiResponse.poster_path,price:79+e.state.apiResponse.vote_average,quantity:1})},children:" ADD TO CART "})}),Object(L.jsx)("div",{className:"ratingsComments",children:Object(L.jsx)(Oe,{movId:this.state.mov_id})})]})]}):Object(L.jsx)("div",{children:"didn't get a Data"})}}]),s}(c.Component);var xe=function(){return Object(L.jsx)(A.a,{basename:"/",children:Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)("main",{children:Object(L.jsxs)(W.d,{children:[Object(L.jsxs)(W.b,{exact:!0,path:"/",children:[Object(L.jsx)(U,{}),Object(L.jsxs)("div",{className:"movie-list-container",style:{position:"absolute",top:"65vh"},children:[" 1",Object(L.jsx)(q,{})]})]}),Object(L.jsxs)(W.b,{exact:!0,path:"/cart",children:[" ",Object(L.jsx)(Y,{})," "]}),Object(L.jsxs)(W.b,{exact:!0,path:"/payment",children:[" ",Object(L.jsx)(Z,{})," "]}),Object(L.jsxs)(W.b,{exact:!0,path:"/confirmation",children:[" ",Object(L.jsx)(ee,{})," "]}),Object(L.jsxs)(W.b,{exact:!0,path:"/favourites",children:[" ",Object(L.jsx)(ne,{})," "]}),Object(L.jsx)(W.b,{exact:!0,path:"/MovieInfo/:id",render:function(e){return Object(L.jsx)(ve,{id:e.match.params.id})}})]})}),Object(L.jsx)("footer",{children:Object(L.jsx)(G,{})})]})})},fe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,475)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))},ge=s(33),ye=Object(ge.b)({movieList:B,favouriteList:ce,cart:Q}),Ne=Object(h.a)({reducer:ye});r.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(u.a,{store:Ne,children:Object(L.jsx)(xe,{})})}),document.getElementById("root")),fe()}},[[474,1,2]]]);
//# sourceMappingURL=main.36761c34.chunk.js.map